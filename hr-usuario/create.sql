create table tb_perfil (id int8 generated by default as identity, tipo varchar(255), primary key (id));
create table tb_usuario (id int8 generated by default as identity, email varchar(255), nome varchar(255), senha varchar(255), primary key (id));
create table tb_usuario_perfil (usuario_id int8 not null, perfil_id int8 not null, primary key (usuario_id, perfil_id));
alter table if exists tb_usuario add constraint UK_spmnyb4dsul95fjmr5kmdmvub unique (email);
alter table if exists tb_usuario_perfil add constraint FK4j7t1t7n0p4lm8jatjwav1i8l foreign key (perfil_id) references tb_perfil;
alter table if exists tb_usuario_perfil add constraint FKjip5y5qe5hsqpapmi8pt29neu foreign key (usuario_id) references tb_usuario;
INSERT INTO tb_usuario (nome, email, senha) VALUES ('Nina Brown', 'nina@gmail.com', '$2a$10$NYFZ/8WaQ3Qb6FCs.00jce4nxX9w7AkgWVsQCG6oUwTAcZqP9Flqu');
INSERT INTO tb_usuario (nome, email, senha) VALUES ('Leia Red', 'leia@gmail.com', '$2a$10$NYFZ/8WaQ3Qb6FCs.00jce4nxX9w7AkgWVsQCG6oUwTAcZqP9Flqu');
INSERT INTO tb_perfil (tipo) VALUES ('OPERADOR');
INSERT INTO tb_perfil (tipo) VALUES ('ADMIN');
INSERT INTO tb_usuario_perfil(usuario_id, perfil_id) VALUES (1, 1);
INSERT INTO tb_usuario_perfil(usuario_id, perfil_id) VALUES (2, 1);
INSERT INTO tb_usuario_perfil(usuario_id, perfil_id) VALUES (2, 2);
create table tb_perfil (id int8 generated by default as identity, tipo varchar(255), primary key (id));
create table tb_usuario (id int8 generated by default as identity, email varchar(255), nome varchar(255), senha varchar(255), primary key (id));
create table tb_usuario_perfil (usuario_id int8 not null, perfil_id int8 not null, primary key (usuario_id, perfil_id));
alter table if exists tb_usuario add constraint UK_spmnyb4dsul95fjmr5kmdmvub unique (email);
alter table if exists tb_usuario_perfil add constraint FK4j7t1t7n0p4lm8jatjwav1i8l foreign key (perfil_id) references tb_perfil;
alter table if exists tb_usuario_perfil add constraint FKjip5y5qe5hsqpapmi8pt29neu foreign key (usuario_id) references tb_usuario;
INSERT INTO tb_usuario (nome, email, senha) VALUES ('Nina Brown', 'nina@gmail.com', '$2a$10$NYFZ/8WaQ3Qb6FCs.00jce4nxX9w7AkgWVsQCG6oUwTAcZqP9Flqu');
INSERT INTO tb_usuario (nome, email, senha) VALUES ('Leia Red', 'leia@gmail.com', '$2a$10$NYFZ/8WaQ3Qb6FCs.00jce4nxX9w7AkgWVsQCG6oUwTAcZqP9Flqu');
INSERT INTO tb_perfil (tipo) VALUES ('OPERADOR');
INSERT INTO tb_perfil (tipo) VALUES ('ADMIN');
INSERT INTO tb_usuario_perfil(usuario_id, perfil_id) VALUES (1, 1);
INSERT INTO tb_usuario_perfil(usuario_id, perfil_id) VALUES (2, 1);
INSERT INTO tb_usuario_perfil(usuario_id, perfil_id) VALUES (2, 2);
